
## export files from lightroom based on tag names
## have to export in batches, because I can't figure out how to sort by multiple keywords all at once
## will export as '111111, bodypart_orientation'

## change file names to '111111_bodypart_orientation'

cd /cygdrive/e/research/test_set_527/

for file in *; do mv "$file" `echo $file | tr ', ' '_'` ; done




## make directories based on body region tag (body, head, toepad, tag)
## sort files into directories
## source https://www.linuxquestions.org/questions/linux-software-2/script-to-sort-files-based-on-part-of-file-name-888195/


IFS=$'\n'   # sets field separator to newline; makes the script ignore
	    # spaces when word-splitting
      
for file in *; do    #no need for "in", for loops default to reading "$@"

	dir="${file#*__}"    #strip everything up to the first "__" in the name
  
  
	dir="${dir%%_*}"    #strip everything after the first "_" in the name
	dir="${dir//.jpg/}"   #removes .jpg in the dirname (for tag).
  
  mkdir -p "$dir"
	mv -t "$dir" "$file"

done
